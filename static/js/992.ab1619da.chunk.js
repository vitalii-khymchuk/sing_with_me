"use strict";(self.webpackChunksing_with_me=self.webpackChunksing_with_me||[]).push([[992],{7686:function(n,e,t){t.d(e,{u2:function(){return y},xo:function(){return k}});var r=t(4165),s=t(5861),a=t(5847),o=t(7416),i=t(1085),u=t(793),c=function(){var n=(0,s.Z)((0,r.Z)().mark((function n(){var e,t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.ZP.get("/saved");case 2:return e=n.sent,t=e.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),f=function(){var n=(0,s.Z)((0,r.Z)().mark((function n(){var e,t,s,a=arguments;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:{},n.next=3,u.ZP.post("/saved",e);case 3:return t=n.sent,s=t.data,n.abrupt("return",s);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d=function(){var n=(0,s.Z)((0,r.Z)().mark((function n(e){var t,s;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.ZP.delete("/saved/".concat(e));case 2:return t=n.sent,s=t.data,n.abrupt("return",s);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,s.Z)((0,r.Z)().mark((function n(e,t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e((function(n){n.isLoading=!0,n.isError=null})),n.next=4,t();case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),e((function(e){e.isError=n.t0.message}));case 9:return n.prev=9,e((function(n){n.isLoading=!1})),n.finish(9);case 12:case"end":return n.stop()}}),n,null,[[0,6,9,12]])})));return function(e,t){return n.apply(this,arguments)}}(),v=(0,a.Ue)((0,o.n)((0,i.mW)((function(n){return{savedSongs:[],isLoading:!1,isError:null,fetchSaved:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:t=e.sent,s=t.data,n((function(n){n.savedSongs=s}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l(n,t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addToSaved:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:n((function(n){n.savedSongs.unshift(t)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l(n,a);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),removeFromSaved:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:n((function(n){n.savedSongs=n.savedSongs.filter((function(n){return n.id!==t}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l(n,a);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}})))),p=function(n){return n.fetchSaved},x=function(n){return n.addToSaved},h=function(n){return n.removeFromSaved},m=function(n){return n.isLoading},g=function(n){return n.savedSongs},Z=t(2548),j=t(2791),w=t(184),k=function(n){var e=n.onCardClick,t=void 0===e?function(){}:e,r=v(g),s=v(p),a=v(m);return(0,j.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"}),s()}),[s]),(0,w.jsx)(Z.J,{songs:null!==r&&void 0!==r?r:[],footerText:"Release date:",onCardClick:t,isLoading:a})},C=t(8820),b=t(7885),y=function(n){var e=n.dataToSave,t=void 0===e?{}:e,a=n.onAddedToSaved,o=void 0===a?function(){}:a,i=n.onRemovedFromSaved,u=void 0===i?function(){}:i,c=v(g).some((function(n){return n.id===t.id})),f=v(x),d=v(h),l=function(){var n=(0,s.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!c){n.next=6;break}return n.next=3,d(t.id);case 3:u(),n.next=9;break;case 6:return n.next=8,f(t);case 8:o();case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,w.jsx)(b.h,{"aria-label":"Add song to saved",type:"button",bg:"transparent",icon:c?(0,w.jsx)(C.M_L,{size:"24"}):(0,w.jsx)(C.lo,{size:"24"}),onClick:l})}},4992:function(n,e,t){t.r(e),t.d(e,{Search:function(){return y}});var r=t(1413),s=t(3007),a=t(165),o=t(3142),i=t(2791);function u(n){var e=(0,o.uP)().theme,t=(0,s.OX)();return(0,i.useMemo)((function(){return(0,a.Cj)(e.direction,(0,r.Z)((0,r.Z)({},t),n))}),[n,e.direction,t])}var c=t(4087),f=t(2548),d=t(2899),l=t(3303),v=t(3790),p=t(7885),x=t(751),h=t(5946),m=t(9229),g=t(1213),Z=t(184),j=function(n){var e=n.song,t=n.SaveResultBtn,r=void 0===t?(0,Z.jsx)(Z.Fragment,{}):t,s=n.onMainCardClick,a=void 0===s?function(){}:s,o=n.resetResults,i=e.full_title,u=e.header_image_url,f=e.release_date_for_display,j=e.id,w=function(){a(j)};return(0,Z.jsx)(d.Z,{maxW:"sm",bgColor:"transparent",color:"white",p:2,boxShadow:"none",children:(0,Z.jsxs)(l.e,{p:2,children:[(0,Z.jsx)(c.xu,{display:"flex",justifyContent:"center",onClick:w,_hover:{cursor:"pointer"},children:(0,Z.jsx)(v.E,{objectFit:"cover",boxSize:"20rem",borderRadius:"lg",src:u,alt:"".concat(i," cover")})}),(0,Z.jsxs)(c.xu,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,Z.jsx)(p.h,{"aria-label":"Reset result",type:"button",bg:"transparent",icon:(0,Z.jsx)(g.Z4w,{size:"24"}),onClick:o}),(0,Z.jsxs)(x.K,{mt:"6",spacing:"3",alignItems:"start",onClick:w,_hover:{cursor:"pointer"},children:[(0,Z.jsx)(h.X,{size:"md",children:i}),(0,Z.jsx)(m.x,{color:"gray.400",children:"Release date: ".concat(null!==f&&void 0!==f?f:"not available")})]}),(0,Z.jsx)(r,{dataToSave:e})]})]})})},w=function(n){var e=n.results,t=n.resetResults,r=void 0===t?function(){}:t,s=n.SaveResultBtn,a=void 0===s?(0,Z.jsx)(Z.Fragment,{}):s,o=n.onCardClick,i=void 0===o?function(){}:o,u=null===e||void 0===e?void 0:e.slice(1);return(0,Z.jsxs)(Z.Fragment,{children:[e&&e.length>0&&(0,Z.jsx)(c.xu,{pt:"0.7rem",display:"flex",justifyContent:"center",children:(0,Z.jsx)(j,{song:e[0],resetResults:r,SaveResultBtn:a,onMainCardClick:i})}),e&&u.length>1&&(0,Z.jsx)(c.xu,{py:"0.7rem",children:(0,Z.jsx)(f.J,{songs:u,onCardClick:i,footerText:"Release date:"})})]})},k=t(9700),C=t(7686),b=t(7689),y=function(){var n=u(),e=(0,k.Rp)(k.Mz),t=(0,k.Rp)(k.PT),r=(0,b.s0)();return(0,i.useEffect)((function(){e&&0===e.length&&n({title:"No results by your query",status:"info",isClosable:!0})}),[e,n]),(0,Z.jsxs)(Z.Fragment,{children:[(!e||0===e.length)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(c.xu,{mt:"1rem",children:(0,Z.jsx)(k.UI,{})}),(0,Z.jsx)(c.xu,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",children:(0,Z.jsx)(k.KN,{})})]}),e&&0!==e.length&&(0,Z.jsx)(w,{results:e,resetResults:t,SaveResultBtn:C.u2,onCardClick:function(n){r("/details/".concat(n))}})]})}}}]);
//# sourceMappingURL=992.ab1619da.chunk.js.map