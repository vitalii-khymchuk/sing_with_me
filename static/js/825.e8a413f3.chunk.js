"use strict";(self.webpackChunksing_with_me=self.webpackChunksing_with_me||[]).push([[825],{2548:function(n,r,e){e.d(r,{J:function(){return h}});var t=e(1413),a=e(3541),o=e(3676),i=e(9229),c=e(2899),s=e(3790),u=e(751),d=e(3303),f=e(5946),p=e(8613),v=e(184),l=function(n){var r=n.song,e=r.full_title,t=r.header_image_thumbnail_url,a=r.release_date_for_display,o=r.id,l=n.onCardClick;return(0,v.jsxs)(c.Z,{direction:{base:"column",sm:"row"},overflow:"hidden",variant:"outline",h:"7rem",_hover:{backgroundColor:"rgba(255, 255, 255, 0.8)",cursor:"pointer"},_focus:{backgroundColor:"rgba(255, 255, 255, 0.8)"},onClick:function(){l(o)},children:[(0,v.jsx)(s.E,{objectFit:"cover",boxSize:"7rem",borderRadius:"md",src:t,alt:"".concat(e," cover")}),(0,v.jsxs)(u.K,{children:[(0,v.jsx)(d.e,{p:"sm",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",height:"7rem",children:(0,v.jsx)(f.X,{size:"sm",maxH:"2.5em",overflow:"hidden",children:e})}),(0,v.jsx)(p.e,{p:"0.3rem",mt:"0",children:(0,v.jsx)(i.x,{color:"gray.600",children:a})})]})]})},h=function(n){var r=n.songs,e=void 0===r?[]:r,c=n.footerText,s=void 0===c?"":c,u=n.onCardClick,d=void 0===u?function(){}:u,f=n.isLoading,p=void 0!==f&&f;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(a.aV,{spacing:"0.5rem",children:[e.length>0&&!p&&e.map((function(n){var r=n.release_date_for_display?"".concat(s," ").concat(n.release_date_for_display):"".concat(s," not available");return(0,v.jsx)(a.HC,{children:(0,v.jsx)(l,{song:(0,t.Z)((0,t.Z)({},n),{},{release_date_for_display:r}),onCardClick:d})},n.id)})),p&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o.O,{height:"8rem",borderRadius:"4px"}),(0,v.jsx)(o.O,{height:"8rem",borderRadius:"4px"}),(0,v.jsx)(o.O,{height:"8rem",borderRadius:"4px"}),(0,v.jsx)(o.O,{height:"8rem",borderRadius:"4px"})]})]}),0===e.length&&!p&&(0,v.jsx)(i.x,{children:"There are no items here..."})]})}},7686:function(n,r,e){e.d(r,{u2:function(){return C},xo:function(){return b}});var t=e(4165),a=e(5861),o=e(5847),i=e(7416),c=e(1085),s=e(793),u=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(){var r,e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.ZP.get("/saved");case 2:return r=n.sent,e=r.data,n.abrupt("return",e);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(){var r,e,a,o=arguments;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=o.length>0&&void 0!==o[0]?o[0]:{},n.next=3,s.ZP.post("/saved",r);case 3:return e=n.sent,a=e.data,n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),f=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(r){var e,a;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.ZP.delete("/saved/".concat(r));case 2:return e=n.sent,a=e.data,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),p=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(r,e){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r((function(n){n.isLoading=!0,n.isError=null})),n.next=4,e();case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),r((function(r){r.isError=n.t0.message}));case 9:return n.prev=9,r((function(n){n.isLoading=!1})),n.finish(9);case 12:case"end":return n.stop()}}),n,null,[[0,6,9,12]])})));return function(r,e){return n.apply(this,arguments)}}(),v=(0,o.Ue)((0,i.n)((0,c.mW)((function(n){return{savedSongs:[],isLoading:!1,isError:null,fetchSaved:function(){var r=(0,a.Z)((0,t.Z)().mark((function r(){var e;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e=function(){var r=(0,a.Z)((0,t.Z)().mark((function r(){var e,a;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u();case 2:e=r.sent,a=e.data,n((function(n){n.savedSongs=a}));case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),p(n,e);case 2:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),addToSaved:function(){var r=(0,a.Z)((0,t.Z)().mark((function r(e){var o;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=function(){var r=(0,a.Z)((0,t.Z)().mark((function r(){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d(e);case 2:n((function(n){n.savedSongs.unshift(e)}));case 3:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),p(n,o);case 2:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}(),removeFromSaved:function(){var r=(0,a.Z)((0,t.Z)().mark((function r(e){var o;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=function(){var r=(0,a.Z)((0,t.Z)().mark((function r(){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f(e);case 2:n((function(n){n.savedSongs=n.savedSongs.filter((function(n){return n.id!==e}))}));case 3:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),p(n,o);case 2:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()}})))),l=function(n){return n.fetchSaved},h=function(n){return n.addToSaved},x=function(n){return n.removeFromSaved},m=function(n){return n.isLoading},g=function(n){return n.savedSongs},Z=e(2548),w=e(2791),k=e(184),b=function(n){var r=n.onCardClick,e=void 0===r?function(){}:r,t=v(g),a=v(l),o=v(m);return(0,w.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"}),a()}),[a]),(0,k.jsx)(Z.J,{songs:null!==t&&void 0!==t?t:[],footerText:"Release date:",onCardClick:e,isLoading:o})},j=e(8820),_=e(7885),C=function(n){var r=n.dataToSave,e=void 0===r?{}:r,o=n.onAddedToSaved,i=void 0===o?function(){}:o,c=n.onRemovedFromSaved,s=void 0===c?function(){}:c,u=v(g).some((function(n){return n.id===e.id})),d=v(h),f=v(x),p=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!u){n.next=6;break}return n.next=3,f(e.id);case 3:s(),n.next=9;break;case 6:return n.next=8,d(e);case 8:i();case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,k.jsx)(_.h,{"aria-label":"Add song to saved",type:"button",bg:"transparent",icon:u?(0,k.jsx)(j.M_L,{size:"24"}):(0,k.jsx)(j.lo,{size:"24"}),onClick:p})}},4825:function(n,r,e){e.r(r),e.d(r,{Saved:function(){return c}});var t=e(4087),a=e(7686),o=e(7689),i=e(184),c=function(){var n=(0,o.s0)();return(0,i.jsx)(t.xu,{pt:"1rem",children:(0,i.jsx)(a.xo,{onCardClick:function(r){n("/details/".concat(r))}})})}}}]);
//# sourceMappingURL=825.e8a413f3.chunk.js.map