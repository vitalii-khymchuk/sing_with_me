"use strict";(self.webpackChunksing_with_me=self.webpackChunksing_with_me||[]).push([[515],{2548:function(n,e,r){r.d(e,{J:function(){return h}});var t=r(1413),i=r(3541),o=r(3676),a=r(9229),s=r(2899),c=r(3790),u=r(751),l=r(3303),d=r(5946),f=r(8613),x=r(184),p=function(n){var e=n.song,r=e.full_title,t=e.header_image_thumbnail_url,i=e.release_date_for_display,o=e.id,p=n.onCardClick;return(0,x.jsxs)(s.Z,{direction:{base:"column",sm:"row"},overflow:"hidden",variant:"outline",h:"7rem",_hover:{backgroundColor:"rgba(255, 255, 255, 0.8)",cursor:"pointer"},_focus:{backgroundColor:"rgba(255, 255, 255, 0.8)"},onClick:function(){p(o)},children:[(0,x.jsx)(c.E,{objectFit:"cover",boxSize:"7rem",borderRadius:"md",src:t,alt:"".concat(r," cover")}),(0,x.jsxs)(u.K,{children:[(0,x.jsx)(l.e,{p:"sm",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",height:"7rem",children:(0,x.jsx)(d.X,{size:"sm",maxH:"2.5em",overflow:"hidden",children:r})}),(0,x.jsx)(f.e,{p:"0.3rem",mt:"0",children:(0,x.jsx)(a.x,{color:"gray.600",children:i})})]})]})},h=function(n){var e=n.songs,r=void 0===e?[]:e,s=n.footerText,c=void 0===s?"":s,u=n.onCardClick,l=void 0===u?function(){}:u,d=n.isLoading,f=void 0!==d&&d;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(i.aV,{spacing:"0.5rem",children:[r.length>0&&!f&&r.map((function(n){var e=n.release_date_for_display?"".concat(c," ").concat(n.release_date_for_display):"".concat(c," not available");return(0,x.jsx)(i.HC,{children:(0,x.jsx)(p,{song:(0,t.Z)((0,t.Z)({},n),{},{release_date_for_display:e}),onCardClick:l})},n.id)})),f&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.O,{height:"8rem",borderRadius:"4px"}),(0,x.jsx)(o.O,{height:"8rem",borderRadius:"4px"}),(0,x.jsx)(o.O,{height:"8rem",borderRadius:"4px"}),(0,x.jsx)(o.O,{height:"8rem",borderRadius:"4px"})]})]}),0===r.length&&!f&&(0,x.jsx)(a.x,{children:"There are no items here..."})]})}},7686:function(n,e,r){r.d(e,{u2:function(){return k},xo:function(){return w}});var t=r(4165),i=r(5861),o=r(5847),a=r(7416),s=r(1085),c=r(793),u=function(){var n=(0,i.Z)((0,t.Z)().mark((function n(){var e,r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.ZP.get("/saved");case 2:return e=n.sent,r=e.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=function(){var n=(0,i.Z)((0,t.Z)().mark((function n(){var e,r,i,o=arguments;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:{},n.next=3,c.ZP.post("/saved",e);case 3:return r=n.sent,i=r.data,n.abrupt("return",i);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d=function(){var n=(0,i.Z)((0,t.Z)().mark((function n(e){var r,i;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.ZP.delete("/saved/".concat(e));case 2:return r=n.sent,i=r.data,n.abrupt("return",i);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,i.Z)((0,t.Z)().mark((function n(e,r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e((function(n){n.isLoading=!0,n.isError=null})),n.next=4,r();case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),e((function(e){e.isError=n.t0.message}));case 9:return n.prev=9,e((function(n){n.isLoading=!1})),n.finish(9);case 12:case"end":return n.stop()}}),n,null,[[0,6,9,12]])})));return function(e,r){return n.apply(this,arguments)}}(),x=(0,o.Ue)((0,a.n)((0,s.mW)((function(n){return{savedSongs:[],isLoading:!1,isError:null,fetchSaved:function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:r=e.sent,i=r.data,n((function(n){n.savedSongs=i}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f(n,r);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addToSaved:function(){var e=(0,i.Z)((0,t.Z)().mark((function e(r){var o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(r);case 2:n((function(n){n.savedSongs.unshift(r)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f(n,o);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),removeFromSaved:function(){var e=(0,i.Z)((0,t.Z)().mark((function e(r){var o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(r);case 2:n((function(n){n.savedSongs=n.savedSongs.filter((function(n){return n.id!==r}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f(n,o);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}})))),p=function(n){return n.fetchSaved},h=function(n){return n.addToSaved},v=function(n){return n.removeFromSaved},m=function(n){return n.isLoading},g=function(n){return n.savedSongs},j=r(2548),b=r(2791),y=r(184),w=function(n){var e=n.onCardClick,r=void 0===e?function(){}:e,t=x(g),i=x(p),o=x(m);return(0,b.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"}),i()}),[i]),(0,y.jsx)(j.J,{songs:null!==t&&void 0!==t?t:[],footerText:"Release date:",onCardClick:r,isLoading:o})},Z=r(8820),_=r(7885),k=function(n){var e=n.dataToSave,r=void 0===e?{}:e,o=n.onAddedToSaved,a=void 0===o?function(){}:o,s=n.onRemovedFromSaved,c=void 0===s?function(){}:s,u=x(g).some((function(n){return n.id===r.id})),l=x(h),d=x(v),f=function(){var n=(0,i.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!u){n.next=6;break}return n.next=3,d(r.id);case 3:c(),n.next=9;break;case 6:return n.next=8,l(r);case 8:a();case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,y.jsx)(_.h,{"aria-label":"Add song to saved",type:"button",bg:"transparent",icon:u?(0,y.jsx)(Z.M_L,{size:"24"}):(0,y.jsx)(Z.lo,{size:"24"}),onClick:f})}},7398:function(n,e,r){r.r(e),r.d(e,{Details:function(){return an}});var t=r(9439),i=r(9229),o=r(3580),a=r(7342),s=r(9137),c=r(4087),u=r(7718),l=r(6589),d=r(7689),f=r(1213),x=r(2899),p=r(3303),h=r(3790),v=r(751),m=r(5946),g=r(4165),j=r(5861),b=r(5847),y=r(793),w=function(){var n=(0,j.Z)((0,g.Z)().mark((function n(e){var r,t;return(0,g.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.ZP.get("/recognition/getinfo/".concat(e));case 2:return r=n.sent,t=r.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Z=r(7474),_=r(7416),k=r(1085),C=(0,Z.e_)({storage:localStorage}).persist,S=function(){var n=(0,j.Z)((0,g.Z)().mark((function n(e,r){return(0,g.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e((function(n){n.isLoading=!0,n.isError=null,n.songInfo={}})),n.next=4,r();case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),e((function(e){e.isError=n.t0.message,e.songInfo={}}));case 9:return n.prev=9,e((function(n){n.isLoading=!1})),n.finish(9);case 12:case"end":return n.stop()}}),n,null,[[0,6,9,12]])})));return function(e,r){return n.apply(this,arguments)}}(),I=(0,b.Ue)((0,k.mW)((0,_.n)(C({key:"songInfo"},(function(n){return{songInfo:{},isLoading:!1,isError:null,getSongInfo:function(){var e=(0,j.Z)((0,g.Z)().mark((function e(r){var t;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){var e=(0,j.Z)((0,g.Z)().mark((function e(){var t,i;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(r);case 2:t=e.sent,i=t.data,n((function(n){n.songInfo=i}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S(n,t);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}}))))),L=function(n){return n.getSongInfo},R=function(n){return n.songInfo},E=function(n){return n.isLoading},F=r(197),O=r(3433),z=function(n){var e="";for(var r in n)if(Object.hasOwnProperty.call(n,r)){var t=n[r];e+="".concat(r,' = "').concat(t,'" ')}return e},D=function n(e){return e&&"?"!==e[0]?e.reduce((function(e,r){if("string"===typeof r)return e+r;var t=r.attributes,i=r.tag,o=r.children,a=t?z(t):"";return e+"<".concat(i," ").concat(a,">").concat(n(o),"</").concat(i,">")}),""):""},T=function(n){return n&&n.dom.children&&0!==n.dom.children.length?n.dom.children.reduce((function(n,e){if("object"!==typeof e)return n;var r=e.attributes,t=e.tag,i=e.children,o=r?z(r):"",a=D(i),s=a?"<".concat(t," ").concat(o,">").concat(a,"</").concat(t,">"):"";return[].concat((0,O.Z)(n),[s])}),[]):""},N=(r(8040),r(184)),W=function(n){var e=n.description,r=e?T(e):"";return(0,N.jsx)(N.Fragment,{children:r&&r[0]&&(0,N.jsx)(F.lr,{autoPlay:!0,interval:8e3,infiniteLoop:!0,showThumbs:!1,showStatus:!1,showArrows:!1,children:r.map((function(n,e){return(0,N.jsx)(c.xu,{children:(0,N.jsx)("div",{dangerouslySetInnerHTML:{__html:n}})},e)}))})})},X=r(3676),A=r(8730),P=function(n){var e,r,t=n.SaveResultBtn,o=void 0===t?(0,N.jsx)(N.Fragment,{}):t,a=null!==(e=I(R))&&void 0!==e?e:{},s=I(E),u=a.description,l=a.artist_names,d=a.header_image_url,f=a.release_date_for_display,g=a.title,j=a.album,b=a.id,y={full_title:"".concat(g," by ").concat(l),header_image_thumbnail_url:d,header_image_url:d,release_date_for_display:f,id:b};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(c.xu,{display:"flex",justifyContent:"center",children:(0,N.jsx)(x.Z,{maxW:"sm",bgColor:"transparent",color:"white",p:2,boxShadow:"none",children:(0,N.jsxs)(p.e,{p:2,children:[(0,N.jsx)(c.xu,{display:"flex",justifyContent:"center",children:(0,N.jsx)(X.O,{isLoaded:!s,borderRadius:"6px",children:(0,N.jsx)(h.E,{objectFit:"cover",boxSize:"20rem",borderRadius:"lg",src:d,alt:"".concat(g," cover")})})}),(0,N.jsxs)(c.xu,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,N.jsxs)(v.K,{mt:"6",spacing:"3",children:[(0,N.jsx)(A.N,{isLoaded:!s,borderRadius:"6px",children:(0,N.jsx)(m.X,{size:"md",px:0,fontWeight:"400",children:"Name: ".concat(g)})}),(0,N.jsx)(A.N,{isLoaded:!s,borderRadius:"6px",children:(0,N.jsx)(m.X,{size:"md",px:0,fontWeight:"400",children:"Artist: ".concat(l)})}),(0,N.jsx)(i.x,{color:"gray.400",children:"Album: ".concat(null!==(r=null===j||void 0===j?void 0:j.name)&&void 0!==r?r:"not available")}),(0,N.jsx)(i.x,{color:"gray.400",children:"Release date: ".concat(null!==f&&void 0!==f?f:"not available")})]}),(0,N.jsx)(o,{dataToSave:y})]})]})})}),(0,N.jsx)(c.xu,{pb:"40px",children:(0,N.jsx)(W,{description:u})})]})},U=r(2791),B=function(){var n=I(R).embed_content,e=(0,U.useState)(!1),r=(0,t.Z)(e,2),i=r[0],o=r[1],a=(0,U.useRef)(null);(0,U.useEffect)((function(){var n=a.current,e=function(){return o(!0)};return n&&n.addEventListener("load",e),function(){n&&n.removeEventListener("load",e)}}),[a]);var s=(0,U.useCallback)((function(){var n=a.current,e=a.current.contentDocument;n.style.height=n.contentWindow.document.body.scrollHeight+"px";var r=e.createElement("style");r.textContent="\n      body, div {\n        background-color: transparent !important;\n        overflow: hidden;\n        border: none !important;\n        width: 100% !important;\n      }\n      body {margin: 0;\n      font-family: sans-serif;\n      }\n      a, p {\n        color: white !important;\n        text-align: center;\n      }\n      .rg_embed_header {display: none}\n      .rg_embed_body {padding: 0 !important}\n    ",e.head.appendChild(r)}),[]);return(0,U.useEffect)((function(){i&&n&&s()}),[i,s,n]),(0,N.jsxs)(N.Fragment,{children:[!i&&(0,N.jsxs)(c.xu,{display:"flex",flexDirection:"column",justifyContent:"center",pt:"3rem",children:[(0,N.jsx)(A.N,{display:"flex",flexDirection:"column",alignItems:"center"}),(0,N.jsx)(A.N,{display:"flex",flexDirection:"column",alignItems:"center"}),(0,N.jsx)(A.N,{display:"flex",flexDirection:"column",alignItems:"center"}),(0,N.jsx)(A.N,{display:"flex",flexDirection:"column",alignItems:"center"}),(0,N.jsx)(A.N,{display:"flex",flexDirection:"column",alignItems:"center"}),(0,N.jsx)(A.N,{display:"flex",flexDirection:"column",alignItems:"center"}),(0,N.jsx)(A.N,{display:"flex",flexDirection:"column",alignItems:"center"}),(0,N.jsx)(A.N,{display:"flex",flexDirection:"column",alignItems:"center"})]}),(0,N.jsx)("iframe",{ref:a,srcDoc:n,style:{width:"100%",display:i?"block":"none"},title:"lyrics"})]})},H=r(3466),K=r(9686),J=r(9126),M=r(7425),Y=function(){var n=I(R).media,e=void 0===n?[]:n,r=e.find((function(n){return"youtube"===n.provider})),t=r&&r.url&&r.url.split("v=")[1],i=e.find((function(n){return"spotify"===n.provider})),o=e.find((function(n){return"soundcloud"===n.provider}));return(0,N.jsxs)(N.Fragment,{children:[t&&(0,N.jsx)(K.Z,{videoId:t,opts:{width:"100%"}}),(0,N.jsxs)(v.K,{pt:"2rem",justifyContent:"space-around",children:[i&&(0,N.jsxs)(H.r,{href:i.url,isExternal:!0,display:"flex",alignItems:"center",children:[(0,N.jsx)(J.SLO,{size:"3rem"}),(0,N.jsx)(m.X,{ml:6,children:"Listen on spotify"})]}),o&&(0,N.jsxs)(H.r,{href:o.url,isExternal:!0,display:"flex",alignItems:"center",children:[(0,N.jsx)(M.VHR,{size:"3rem"}),(0,N.jsx)(m.X,{ml:6,children:"Listen on soundcloud"})]})]})]})},V=function(){var n=I(R).producer_artists,e=void 0===n?[]:n;return(0,N.jsx)(v.K,{children:e.map((function(n){var e=n.name,r=n.header_image_url,t=n.url;return(0,N.jsx)(H.r,{url:t,isExternal:!0,children:(0,N.jsx)(x.Z,{maxW:"sm",children:(0,N.jsxs)(p.e,{children:[(0,N.jsx)(h.E,{src:r,alt:e,borderRadius:"lg",boxSize:"22rem",objectFit:"cover"}),(0,N.jsx)(m.X,{size:"md",children:e})]})})})}))})},q=r(8348),G=r(4224),Q=r(1174),$=r(8820),nn=r(2548),en=function(n){var e,r=n.data,t=void 0===r?{}:r,o=(0,q.q)(),a=o.isOpen,s=o.onToggle,u=(0,d.s0)(),l=t.relationship_type,f=t.songs,x={transform:"rotate(".concat(a?"180deg":"0",")"),transition:"transform 0.3s ease-in-out"};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(G.z,{onClick:s,variant:"outline",borderColor:a?"rgb(193, 4, 192) !important":"white",_active:{borderColor:"rgb(193, 4, 192)"},children:(0,N.jsxs)(c.xu,{display:"flex",justifyContent:"space-between",width:"100%",children:[(0,N.jsx)(c.xu,{}),(0,N.jsx)(i.x,{children:(e=l,e[0].toUpperCase()+e.slice(1,e.length).replace(/_/g," "))}),(0,N.jsx)($.cuw,{style:x})]})}),(0,N.jsx)(Q.U,{in:a,animateOpacity:!0,children:(0,N.jsx)(nn.J,{songs:f,footerText:"Release date: ",onCardClick:function(n){u("/details/".concat(n))}})})]})},rn=function(){var n=I(R).relation_songs,e=(void 0===n?[]:n).filter((function(n){return 0!==n.songs.length}));return(0,N.jsx)(v.K,{children:e.length>0&&e.map((function(n){return(0,N.jsx)(en,{data:n},n.relationship_type)}))})},tn=function(n){var e=n.SaveResultBtn,r=void 0===e?(0,N.jsx)(N.Fragment,{}):e,x=[{label:(0,N.jsx)(f.Z4w,{}),component:(0,N.jsx)(d.Fg,{to:-1})},{label:(0,N.jsx)(i.x,{children:"Info"}),component:(0,N.jsx)(P,{SaveResultBtn:r})},{label:(0,N.jsx)(i.x,{children:"Lyrics"}),component:(0,N.jsx)(B,{})},{label:(0,N.jsx)(i.x,{children:"Media"}),component:(0,N.jsx)(Y,{})},{label:(0,N.jsx)(i.x,{children:"Artists"}),component:(0,N.jsx)(V,{})},{label:(0,N.jsx)(i.x,{children:"Related"}),component:(0,N.jsx)(rn,{})}],p=(0,d.UO)().id,h=(0,U.useState)(1),v=(0,t.Z)(h,2),m=v[0],g=v[1];return(0,U.useEffect)((function(){g(1)}),[p]),(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)(o.m,{isLazy:!0,index:m,onChange:g,overflow:"hidden",children:[(0,N.jsx)(a.t,{gap:{base:"20px"},overflowX:"scroll",overflowY:"hidden",borderBottom:"1px",sx:{"::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none"},position:"absolute",top:"0",left:"0",width:"100vw",children:x.map((function(n,e){var r=n.label;return(0,N.jsx)(s.O,{fontSize:"lg",children:(0,N.jsx)(c.xu,{color:e===m?"rgb(193, 4, 192)":"inherit",children:r})},e)}))}),(0,N.jsx)(u.n,{overflowY:"scroll",children:x.map((function(n,e){var r=n.component;return(0,N.jsx)(l.x,{children:r},e)}))})]})})},on=r(7686),an=function(){var n=I(L),e=(0,d.UO)().id;return(0,U.useEffect)((function(){n(e)}),[n,e]),(0,N.jsx)(c.xu,{pt:"44px",height:"100%",overflow:"hidden",children:(0,N.jsx)(c.xu,{overflowY:"scroll",height:"100%",sx:{"::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none"},children:(0,N.jsx)(tn,{SaveResultBtn:on.u2})})})}}}]);
//# sourceMappingURL=515.e11affe3.chunk.js.map